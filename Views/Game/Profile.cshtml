
@{
    ViewData["Title"] = "Profile Page";
    ViewData["css"] = "profile.css";
}

<head>
    <script src="~/lib/jquery/dist/jquery.js"></script>
</head>

<div class="container">

    <!--Main content start-->
    <div class="d-flex justify-content-center text-center mt-3" id="profile">
        <div class="card d-flex flex-row justify-content-center align-items-center flex-wrap">
            <!--Profile Details-->
            <div class="card inner-card m-3">
                <img class="card-img-top" src="/images/Profile/Profile_Info.png" />
                <div class="card-body d-flex flex-column align-items-center justify-content-center">
                    <h5>Username</h5>
                    <a class="editUsername"><strong><span>@TempData["username"]</span></strong></a>
                    <a class="editPassword"><strong><span>password</span></strong></a>
                </div>
            </div>

            <!--Highscore-->
            <div class="card inner-card m-3">
                <img class="card-img-top" src="/images/Profile/Profile_Highscore.png"  />
                <div class="card-body d-flex flex-column justify-content-center">
                    <p><strong style="font-size:36px;">@TempData["highscore"]</strong></p>
                </div>
            </div>

        </div>
    </div>
    <!--Main content end-->


    <!--Modal start-->

     <!-- Display modal if there is an error -->
    @if (TempData["oldPWError"] != null || TempData["newPWError"] != null || TempData["cNewPWError"] != null)
    {
        <!-- display popup modal -->
        <script type="text/javascript">
            $(document).ready(function () {
                $('#passwordModal').modal('show');
            })
        </script>
    }
    <!-- popup modal for password start -->
    

    <div class="modal fade" id="passwordModal">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <div class="modal-header">

                    <h4 class="modal-title">Change Password</h4>

                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

                </div>
                <form method="post" asp-action="EditPassword">

                    <div class="modal-body">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Current Password:</label>
                            <div class="col-sm-8 col-md-8">
                                <input id="currentPW" name="currentPW" class="form-control" type="password" />
                                <span class="text-danger"> @TempData["oldPWError"]</span>
                            </div>
                        </div>
                        <br />
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">New Password:</label>
                            <div class="col-sm-8 col-md-8">
                                <input id="newPW" name="newPW" type="password" class="form-control" />
                                <span class="text-danger">@TempData["newPWError"]</span>
                            </div>
                        </div>
                        <br />
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">Confirm New Password:</label>
                            <div class="col-sm-8 col-md-8">
                                <input id="cNewPW" name="cNewPW" class="form-control" type="password" />
                                <span  class="text-danger">@TempData["cNewPWError"]</span>
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="modal-footer">
                        <input type="submit" value="Change Password" class="btn btn-primary" />
                    </div>

                </form>

            </div>
        </div>

    </div>
    <!-- popup modal for password end -->

     <!-- Display modal if there is an error -->
    @if (TempData["usernameError"] != null)
    {
        <!-- display popup modal -->
        <script type="text/javascript">
            $(document).ready(function () {
                $('#usernameModal').modal('show');
            })
        </script>
    }
    <!-- popup modal for Username start -->

    <div class="modal fade" id="usernameModal">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <div class="modal-header">

                    <h4 class="modal-title">Change Username</h4>

                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>

                </div>
                <form method="post" asp-action="EditUsername">

                    <div class="modal-body">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label">New Username:</label>
                            <div class="col-sm-8 col-md-8">
                                <input id="newUsername" name="newUsername" class="form-control" type="text"/>
                                <span class="text-danger">@TempData["usernameError"]</span>
                            </div>
                        </div>
                        <br />
                        <div class="modal-footer">
                            <input type="submit" value="Change Username" class="btn btn-primary" />
                        </div>

                </form>

            </div>
        </div>

    </div>
    <!-- popup modal for username end -->
    
    <!--Modal end-->
    

</div>

@section scripts {
    <script type="text/javascript" src="~/js/profile.js"></script>
}